



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Purely functional, Statically Typed Python">
      
      
        <link rel="canonical" href="https://pfun.dev/effect_api/">
      
      
      <link rel="shortcut icon" href="../nav_logo.svg">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-5.5.14">
    
    
      
        <title>pfun.effect - pfun</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d3202873.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.ff0a5ce4.min.css">
      
      
        
        
        <meta name="theme-color" content="#2094f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pfun.effect.Effect" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://pfun.dev/" title="pfun" class="md-header-nav__button md-logo" aria-label="pfun">
      
  <img src="../nav_logo.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            pfun
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              pfun.effect
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/suned/pfun" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    suned/pfun
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://pfun.dev/" title="pfun" class="md-nav__button md-logo" aria-label="pfun">
      
  <img src="../nav_logo.svg" alt="logo">

    </a>
    pfun
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/suned/pfun" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    suned/pfun
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        <span class="md-nav__icon md-icon"></span>
        Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../what_is_this/" title="What Is This?" class="md-nav__link">
      What Is This?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install/" title="Install" class="md-nav__link">
      Install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../immutable_objects_and_data/" title="Immutable Objects And Data Structures" class="md-nav__link">
      Immutable Objects And Data Structures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../useful_functions/" title="Useful Functions" class="md-nav__link">
      Useful Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../effectful_but_side_effect_free/" title="Effectful (But Side-Effect Free) Programming" class="md-nav__link">
      Effectful (But Side-Effect Free) Programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../curried_and_typesafe_operators/" title="Curried And Type-Safe Operators" class="md-nav__link">
      Curried And Type-Safe Operators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stack_safety/" title="Stack-Safety And Recursion" class="md-nav__link">
      Stack-Safety And Recursion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../property_based_testing/" title="Property-Based Testing" class="md-nav__link">
      Property-Based Testing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../other_resources/" title="Other Resources" class="md-nav__link">
      Other Resources
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      API Reference
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="API Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        API Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pfun_api/" title="pfun" class="md-nav__link">
      pfun
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../functions_api/" title="pfun.functions" class="md-nav__link">
      pfun.functions
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        pfun.effect
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" title="pfun.effect" class="md-nav__link md-nav__link--active">
      pfun.effect
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Effect" class="md-nav__link">
    Effect
  </a>
  
    <nav class="md-nav" aria-label="Effect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.and_then" class="md-nav__link">
    and_then()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.discard_and_then" class="md-nav__link">
    discard_and_then()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.either" class="md-nav__link">
    either()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.ensure" class="md-nav__link">
    ensure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.map" class="md-nav__link">
    map()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.memoize" class="md-nav__link">
    memoize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.race" class="md-nav__link">
    race()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.recover" class="md-nav__link">
    recover()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.repeat" class="md-nav__link">
    repeat()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.retry" class="md-nav__link">
    retry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.timeout" class="md-nav__link">
    timeout()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Success" class="md-nav__link">
    Success
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Try" class="md-nav__link">
    Try
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Depends" class="md-nav__link">
    Depends
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.success" class="md-nav__link">
    success()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.error" class="md-nav__link">
    error()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.depend" class="md-nav__link">
    depend()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.gather" class="md-nav__link">
    gather()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.gather_async" class="md-nav__link">
    gather_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.filter_" class="md-nav__link">
    filter_()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.filter_async" class="md-nav__link">
    filter_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.for_each" class="md-nav__link">
    for_each()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.for_each_async" class="md-nav__link">
    for_each_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.absolve" class="md-nav__link">
    absolve()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine" class="md-nav__link">
    combine()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine_async" class="md-nav__link">
    combine_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine_cpu_bound" class="md-nav__link">
    combine_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine_io_bound" class="md-nav__link">
    combine_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift" class="md-nav__link">
    lift()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift_async" class="md-nav__link">
    lift_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift_cpu_bound" class="md-nav__link">
    lift_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift_io_bound" class="md-nav__link">
    lift_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.catch" class="md-nav__link">
    catch()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.catch_cpu_bound" class="md-nav__link">
    catch_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.catch_io_bound" class="md-nav__link">
    catch_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.purify" class="md-nav__link">
    purify()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.purify_cpu_bound" class="md-nav__link">
    purify_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.purify_io_bound" class="md-nav__link">
    purify_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_awaitable" class="md-nav__link">
    from_awaitable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_callable" class="md-nav__link">
    from_callable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_cpu_bound_callable" class="md-nav__link">
    from_cpu_bound_callable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_io_bound_callable" class="md-nav__link">
    from_io_bound_callable()
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../schedule_api/" title="pfun.schedule" class="md-nav__link">
      pfun.schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../state_api/" title="pfun.state" class="md-nav__link">
      pfun.state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../console_api/" title="pfun.console" class="md-nav__link">
      pfun.console
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../files_api/" title="pfun.files" class="md-nav__link">
      pfun.files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../clock_api/" title="pfun.clock" class="md-nav__link">
      pfun.clock
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../random_api/" title="pfun.random" class="md-nav__link">
      pfun.random
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../logging_api/" title="pfun.logging" class="md-nav__link">
      pfun.logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subprocess_api/" title="pfun.subprocess" class="md-nav__link">
      pfun.subprocess
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http_api/" title="pfun.http" class="md-nav__link">
      pfun.http
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sql_api/" title="pfun.sql" class="md-nav__link">
      pfun.sql
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../list_api/" title="pfun.list" class="md-nav__link">
      pfun.list
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dict_api/" title="pfun.dict" class="md-nav__link">
      pfun.dict
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../maybe_api/" title="pfun.maybe" class="md-nav__link">
      pfun.maybe
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../either_api/" title="pfun.either" class="md-nav__link">
      pfun.either
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../immutable_api/" title="pfun.immutable" class="md-nav__link">
      pfun.immutable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../trampoline_api/" title="pfun.trampoline" class="md-nav__link">
      pfun.trampoline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hypothesis_strategies_api/" title="pfun.hypothesis_strategies" class="md-nav__link">
      pfun.hypothesis_strategies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../operator_api/" title="pfun.operator" class="md-nav__link">
      pfun.operator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lens_api/" title="pfun.lens" class="md-nav__link">
      pfun.lens
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Effect" class="md-nav__link">
    Effect
  </a>
  
    <nav class="md-nav" aria-label="Effect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.and_then" class="md-nav__link">
    and_then()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.discard_and_then" class="md-nav__link">
    discard_and_then()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.either" class="md-nav__link">
    either()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.ensure" class="md-nav__link">
    ensure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.map" class="md-nav__link">
    map()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.memoize" class="md-nav__link">
    memoize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.race" class="md-nav__link">
    race()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.recover" class="md-nav__link">
    recover()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.repeat" class="md-nav__link">
    repeat()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.retry" class="md-nav__link">
    retry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pfun.effect.Effect.timeout" class="md-nav__link">
    timeout()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Success" class="md-nav__link">
    Success
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Try" class="md-nav__link">
    Try
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.Depends" class="md-nav__link">
    Depends
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.success" class="md-nav__link">
    success()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.error" class="md-nav__link">
    error()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.depend" class="md-nav__link">
    depend()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.gather" class="md-nav__link">
    gather()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.gather_async" class="md-nav__link">
    gather_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.filter_" class="md-nav__link">
    filter_()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.filter_async" class="md-nav__link">
    filter_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.for_each" class="md-nav__link">
    for_each()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.for_each_async" class="md-nav__link">
    for_each_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.absolve" class="md-nav__link">
    absolve()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine" class="md-nav__link">
    combine()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine_async" class="md-nav__link">
    combine_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine_cpu_bound" class="md-nav__link">
    combine_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.combine_io_bound" class="md-nav__link">
    combine_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift" class="md-nav__link">
    lift()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift_async" class="md-nav__link">
    lift_async()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift_cpu_bound" class="md-nav__link">
    lift_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.lift_io_bound" class="md-nav__link">
    lift_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.catch" class="md-nav__link">
    catch()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.catch_cpu_bound" class="md-nav__link">
    catch_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.catch_io_bound" class="md-nav__link">
    catch_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.purify" class="md-nav__link">
    purify()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.purify_cpu_bound" class="md-nav__link">
    purify_cpu_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.purify_io_bound" class="md-nav__link">
    purify_io_bound()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_awaitable" class="md-nav__link">
    from_awaitable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_callable" class="md-nav__link">
    from_callable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_cpu_bound_callable" class="md-nav__link">
    from_cpu_bound_callable()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pfun.effect.from_io_bound_callable" class="md-nav__link">
    from_io_bound_callable()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <div class="doc doc-object doc-class">



<h1 class="doc doc-heading" id="pfun.effect.Effect">
        <code>
pfun.effect.Effect        </code>



</h1>

    <div class="doc doc-contents first">





  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.__call__">
<code class="codehilite language-python"><span class="fm">__call__</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Run the function wrapped by this <code>Effect</code> asynchronously,         including potential side-effects. If the function fails the         resulting error will be raised as an exception.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>r</code></td>
        <td><code>R</code></td>
        <td><p>The dependency with which to run this <code>Effect</code></p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>max_processes</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The max number of processes used to run cpu bound                 parts of this effect</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>max_threads</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The max number of threads used to run io bound                 parts of this effect</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Awaitable[A]</code></td>
      <td><p>The succesful result of the wrapped function if it succeeds</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>E</code></td>
        <td><p>If the Effect fails and <code>E</code> is a subclass of <code>Exception</code></p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the effect fails and <code>E</code> is not a subclass of                           Exception</p></td>
      </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.and_then">
<code class="codehilite language-python"><span class="n">and_then</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create new <code>Effect</code> that applies <code>f</code> to the result of         running this effect successfully. If this <code>Effect</code> fails,         <code>f</code> is not applied.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">and_then</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">success</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>f</code></td>
        <td><code>A -&gt; Effect[Any, E2, B]</code></td>
        <td><p>Function to pass the result of this <code>Effect</code>             instance once it can be computed</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[Any, Union[E, E2], B]</code></td>
      <td><p>New <code>Effect</code> which wraps the result of             passing the result of this <code>Effect</code> instance to <code>f</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.discard_and_then">
<code class="codehilite language-python"><span class="n">discard_and_then</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">effect</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create a new effect that discards the result of this effect,         and produces instead <code>effect</code>. Like <code>and_then</code> but does not require
you to handle the result.         Convenient for effects that produce <code>None</code>, like writing to files.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun</span> <span class="kn">import</span> <span class="n">files</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">class</span> <span class="nc">Env</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">files</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">Files</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">files</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello!&#39;</span><span class="p">)</span>\
<span class="o">...</span>     <span class="o">.</span><span class="n">discard_and_then</span><span class="p">(</span><span class="n">files</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">))</span>\
<span class="o">...</span>     <span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">Env</span><span class="p">())</span>
<span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>effect</code></td>
        <td><code>Effect[Any, E2, B]</code></td>
        <td><p><code>Effect</code> instance to run after this <code>Effect</code>             has run successfully.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[Any, Union[E, E2], B]</code></td>
      <td><p>New effect that succeeds with <code>effect</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.either">
<code class="codehilite language-python"><span class="n">either</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Push the potential error into the success channel as an either,         allowing error handling.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">error</span><span class="p">(</span><span class="s1">&#39;Whoops!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">either</span><span class="p">()</span><span class="o">.</span><span class="n">map</span><span class="p">(</span>
<span class="o">...</span>     <span class="k">lambda</span> <span class="n">either</span><span class="p">:</span> <span class="n">either</span><span class="o">.</span><span class="n">get</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">either</span><span class="p">,</span> <span class="n">Right</span><span class="p">)</span>
<span class="o">...</span>                    <span class="k">else</span> <span class="s1">&#39;Phew!&#39;</span>
<span class="o">...</span> <span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="s1">&#39;Phew!&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, NoReturn, Either[E, A]]</code></td>
      <td><p>New <code>Effect</code> that produces a <code>Left[E]</code> if it             has failed, or a :<code>Right[A]</code> if it succeeds</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.ensure">
<code class="codehilite language-python"><span class="n">ensure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">effect</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create an <code>Effect</code> that will always run <code>effect</code>, regardless
of whether this <code>Effect</code> succeeds or fails. The result of
<code>effect</code> is ignored, and the resulting effect instead succeeds or fails
with the succes or error value of this effect. Useful for closing
resources.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun.effect.console</span> <span class="kn">import</span> <span class="n">Console</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">finalizer</span> <span class="o">=</span> <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;finalizing!&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">success</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ensure</span><span class="p">(</span><span class="n">finalizer</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">finalizing</span><span class="err">!</span>
<span class="s1">&#39;result&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">error</span><span class="p">(</span><span class="s1">&#39;whoops!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ensure</span><span class="p">(</span><span class="n">finalizer</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">finalizing</span><span class="err">!</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">whoops</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>effect</code></td>
        <td><code>Effect[R1, NoReturn, Any]</code></td>
        <td><p><code>Effect</code> to run after this effect terminates             either successfully or with an error</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[pfun.Intersection[R, R1], E, A]</code></td>
      <td><p><code>Effect</code> that fails or succeeds with the result of             this effect, but always runs <code>effect</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.map">
<code class="codehilite language-python"><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Map <code>f</code> over the result produced by this <code>Effect</code> once it is run</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>f</code></td>
        <td><code>A -&gt; B</code></td>
        <td><p>function to map over this <code>Effect</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, B]</code></td>
      <td><p>new <code>Effect</code> with <code>f</code> applied to the             value produced by this <code>Effect</code>.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.memoize">
<code class="codehilite language-python"><span class="n">memoize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create an <code>Effect</code> that caches its result. When the effect is evaluated
for the second time, its side-effects are not performed, it simply
succeeds with the cached result. This means you should be careful with
memoizing complicated effects. Useful for effects that have expensive
results, such as calling a slow HTTP api or reading a large file.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun.console</span> <span class="kn">import</span> <span class="n">Console</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span> <span class="o">=</span> <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
<span class="o">...</span>     <span class="s1">&#39;Doing something expensive&#39;</span>
<span class="o">...</span> <span class="p">)</span><span class="o">.</span><span class="n">discard_and_then</span><span class="p">(</span>
<span class="o">...</span>     <span class="n">success</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">)</span>
<span class="o">...</span> <span class="p">)</span><span class="o">.</span><span class="n">memoize</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># this would normally cause an effect to be run twice.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">double_effect</span> <span class="o">=</span> <span class="n">effect</span><span class="o">.</span><span class="n">discard_and_then</span><span class="p">(</span><span class="n">effect</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">double_effect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Doing</span> <span class="n">something</span> <span class="n">expensive</span>
<span class="s1">&#39;result&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, A]</code></td>
      <td><p>memoized <code>Effect</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.race">
<code class="codehilite language-python"><span class="n">race</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create an <code>Effect</code> that will run this effect and <code>other</code> concurrently,
returning the result of whichever completes first. When one completes,
the other is canceled</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun</span> <span class="kn">import</span> <span class="n">clock</span><span class="p">,</span> <span class="n">DefaultModules</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">clock</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">discard_and_then</span><span class="p">(</span><span class="n">success</span><span class="p">(</span><span class="s1">&#39;slow&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">race</span><span class="p">(</span><span class="n">success</span><span class="p">(</span><span class="s1">&#39;fast&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">DefaultModules</span><span class="p">())</span>
<span class="s1">&#39;fast&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>other</code></td>
        <td><code>Effect[R1, E1, A]</code></td>
        <td><p><code>Effect</code> to race against this effect</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[pfun.Intersection[R, R1], Union[E, E1], A]</code></td>
      <td><p><code>other</code> raced against this effect</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.recover">
<code class="codehilite language-python"><span class="n">recover</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create new <code>Effect</code> that applies <code>f</code> to the error result of         running this effect if it fails. If this <code>Effect</code> succeeds,         <code>f</code> is not applied.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">error</span><span class="p">(</span><span class="s1">&#39;Whoops!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">recover</span><span class="p">(</span><span class="k">lambda</span> <span class="n">_</span><span class="p">:</span> <span class="n">success</span><span class="p">(</span><span class="s1">&#39;Phew!&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="s1">&#39;Phew!&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>f</code></td>
        <td><code>E -&gt; Effect[Any, E2, B]</code></td>
        <td><p>Function to pass the error result of this <code>Effect</code>             instance once it can be computed</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[Any, E2, Union[A, B]]</code></td>
      <td><p>New :<code>Effect</code> which wraps the result of             passing the error result of this <code>Effect</code> instance to <code>f</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.repeat">
<code class="codehilite language-python"><span class="n">repeat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create an <code>Effect</code> that repeats this effect according to <code>schedule</code>. Succeeds when the schedule is exhausted, or fails
when this effect does</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun</span> <span class="kn">import</span> <span class="n">effect</span><span class="p">,</span> <span class="n">schedule</span><span class="p">,</span> <span class="n">DefaultModules</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">recurs</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">schedule</span><span class="o">.</span><span class="n">spaced</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">DefaultModules</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule</code></td>
        <td><code>Effect[R1, NoReturn, Iterator[datetime.timedelta]</code></td>
        <td><p>Schedule to use for repetition</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[pfun.Intersection[R, R1, pfun.clock.HasClock], E, Tuple[A]]</code></td>
      <td><p>This effect repeated according to <code>schedule</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.retry">
<code class="codehilite language-python"><span class="n">retry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create an <code>Effect</code> that retries this effect according to <code>schedule</code>. Succeeds when this effect does, or fails once the
<code>schedule</code> is exhausted.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun</span> <span class="kn">import</span> <span class="n">console</span><span class="p">,</span> <span class="n">effect</span><span class="p">,</span> <span class="n">scedule</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">recurs</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">schedule</span><span class="o">.</span><span class="n">spaced</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">console</span><span class="o">.</span><span class="n">print_line</span><span class="p">(</span><span class="s1">&#39;Try to do the thing&#39;</span><span class="p">)</span>\
<span class="o">...</span> <span class="o">.</span><span class="n">discard_and_then</span><span class="p">(</span><span class="n">effect</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Whoops&#39;</span><span class="p">))</span>\
<span class="o">...</span> <span class="o">.</span><span class="n">retry</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>\
<span class="o">...</span> <span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">DefaultModules</span><span class="p">)</span>
<span class="n">Try</span> <span class="n">to</span> <span class="n">do</span> <span class="n">the</span> <span class="n">thing</span>
<span class="n">Try</span> <span class="n">to</span> <span class="n">do</span> <span class="n">the</span> <span class="n">thing</span>
<span class="n">Try</span> <span class="n">to</span> <span class="n">do</span> <span class="n">the</span> <span class="n">thing</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;Whoops&#39;</span><span class="p">,</span> <span class="s1">&#39;Whoops&#39;</span><span class="p">,</span> <span class="s1">&#39;Whoops&#39;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule</code></td>
        <td><code>Effect[R1, NoReturn, Iterator[datetime.timedelta]]</code></td>
        <td><p>Schedule to use for retry attempts</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[pfun.Intersection[R, R1, pfun.clock.HasClock], Tuple[E], A]</code></td>
      <td><p><code>Effect</code> that retries this effect according to <code>schedule</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.run">
<code class="codehilite language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">max_processes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_threads</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Run the function wrapped by this <code>Effect</code>, including potential         side-effects. If the function fails the resulting error will be         raised as an exception.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>r</code></td>
        <td><code>R</code></td>
        <td><p>The dependency with which to run this <code>Effect</code></p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>max_processes</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The max number of processes used to run cpu bound                 parts of this effect</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>max_threads</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The max number of threads used to run io bound                 parts of this effect</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>A</code></td>
      <td><p>The succesful result of the wrapped function if it succeeds</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>E</code></td>
        <td><p>If the Effect fails and <code>E</code> is a subclass of <code>Exception</code></p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the effect fails and <code>E</code> is not a subclass of                           Exception</p></td>
      </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="pfun.effect.Effect.timeout">
<code class="codehilite language-python"><span class="n">timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span></code>
        

</h2>

    <div class="doc doc-contents ">

      <p>Create an <code>Effect</code> that will fail it it hasn't succeeded within <code>duration</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun</span> <span class="kn">import</span> <span class="n">clock</span><span class="p">,</span> <span class="n">DefaultModules</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">clock</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">timeout</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">DefaultModules</span><span class="p">())</span>
<span class="ne">TimeoutError</span><span class="p">:</span> <span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">timed</span> <span class="n">out</span> <span class="n">after</span> <span class="mi">1</span> <span class="n">seconds</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>duration</code></td>
        <td><code>int</code></td>
        <td><p>Max interval to wait for this effect to succeed in seconds</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[pfun.Intersection[R, pfun.clock.HasClock], Union[E, asyncio.TimeoutError], A]</code></td>
      <td><p><code>Effect</code> that will fail after <code>duration</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h1 class="doc doc-heading" id="pfun.effect.Success">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">Success</span><span class="p">:</span> <span class="n">TypeAlias</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Type-alias for <code>Effect[object, NoReturn, TypeVar('A')]</code>.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h1 class="doc doc-heading" id="pfun.effect.Try">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">Try</span><span class="p">:</span> <span class="n">TypeAlias</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Type-alias for <code>Effect[object, TypeVar('E'), TypeVar('A')]</code>.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h1 class="doc doc-heading" id="pfun.effect.Depends">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">Depends</span><span class="p">:</span> <span class="n">TypeAlias</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Type-alias for <code>Effect[TypeVar('R'), NoReturn, TypeVar('A')]</code>.</p>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.success">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Wrap a function in <code>Effect</code> that does nothing but return <code>value</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">success</span><span class="p">(</span><span class="s1">&#39;Yay!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="s1">&#39;Yay!&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>A</code></td>
        <td><p>The value to return when the <code>Effect</code> is executed</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Success[A]</code></td>
      <td><p>Effect that wraps a function returning <code>value</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.error">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">reason</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an <code>Effect</code> that does nothing but fail with <code>reason</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">error</span><span class="p">(</span><span class="s1">&#39;Whoops!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="s1">&#39;Whoops!&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reason</code></td>
        <td><code>E</code></td>
        <td><p>Value to fail with</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[object, E, NoReturn]</code></td>
      <td><p><code>Effect</code> that fails with <code>reason</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.depend">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">depend</span><span class="p">(</span><span class="n">r_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Get an <code>Effect</code> that produces the dependency passed to <code>run</code>     when executed</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">depend</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;dependency&#39;</span><span class="p">)</span>
<span class="s1">&#39;dependency&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>r_type</code></td>
        <td><code>R</code></td>
        <td><p>The expected dependency type of the resulting effect.         Used ONLY for type-checking and doesn't impact runtime behaviour in         any way</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, NoReturn, R]</code></td>
      <td><p><code>Effect</code> that produces the dependency passed to <code>run</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.gather">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">effects</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Evaluate each <code>Effect</code> in <code>iterable</code>
and collect the results</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">gather</span><span class="p">([</span><span class="n">success</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>iterable</code></td>
        <td><code>Iterable[Effect[R, E, A]]</code></td>
        <td><p>The iterable to collect results from</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, Iterable[A]]</code></td>
      <td><p><code>Effect</code> that produces collected results</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.gather_async">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">gather_async</span><span class="p">(</span><span class="n">effects</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Evaluate each <code>Effect</code> in <code>iterable</code> asynchronously
and collect the results</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">gather_async</span><span class="p">([</span><span class="n">success</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>iterable</code></td>
        <td><code>Iterable[Effect[R, E, A]]</code></td>
        <td><p>The iterable to collect results from</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, Iterable[A]]</code></td>
      <td><p><code>Effect</code> that produces collected results</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.filter_">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">filter_</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">iterable</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Map each element in <code>iterable</code> by applying <code>f</code>,
filter the results by the value returned by <code>f</code>
and combine from left to right.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">success</span><span class="p">(</span><span class="n">v</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code>A -&gt; Effect[R, E, bool]</code></td>
        <td><p>Function to map <code>iterable</code> by</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>iterable</code></td>
        <td><code>Iterable[A]</code></td>
        <td><p>Iterable to map by <code>f</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, Iterable[A]]</code></td>
      <td><p><code>iterable</code> mapped and filtered by <code>f</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.filter_async">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">filter_async</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">iterable</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Map each element in <code>iterable</code> by applying <code>f</code>,
filter the results by the value returned by <code>f</code>
and combine from left to right asynchronously.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">filter_async</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">success</span><span class="p">(</span><span class="n">v</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code>A -&gt; Effect[R, E, bool]</code></td>
        <td><p>Function to map <code>iterable</code> by</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>iterable</code></td>
        <td><code>Iterable[A]</code></td>
        <td><p>Iterable to map by <code>f</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, Iterable[A]]</code></td>
      <td><p><code>iterable</code> mapped and filtered by <code>f</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.for_each">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">for_each</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">iterable</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Map each in element in <code>iterable</code> to
an <code>Effect</code> by applying <code>f</code>,
combine the elements by <code>and_then</code>
from left to right and collect the results</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">for_each</span><span class="p">(</span><span class="n">success</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code>A -&gt; Effect[R, E, B]</code></td>
        <td><p>Function to map over <code>iterable</code></p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>iterable</code></td>
        <td><code>Iterable[A]</code></td>
        <td><p>Iterable to map <code>f</code> over</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, Iterable[B]]</code></td>
      <td><p><code>f</code> mapped over <code>iterable</code> and combined from left to right.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.for_each_async">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">for_each_async</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">iterable</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Map each in element in <code>iterable</code> to
an <code>Effect</code> by applying <code>f</code>,
combine the elements by <code>and_then</code>
from left to right and collect the results asynchronously.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">for_each_async</span><span class="p">(</span><span class="n">success</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code>A -&gt; Effect[R, E, B]</code></td>
        <td><p>Function to map over <code>iterable</code></p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>iterable</code></td>
        <td><code>Iterable[A]</code></td>
        <td><p>Iterable to map <code>f</code> over</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, Iterable[B]]</code></td>
      <td><p><code>f</code> mapped over <code>iterable</code> and combined from left to right.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.absolve">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">absolve</span><span class="p">(</span><span class="n">effect</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Move the error type from an <code>Effect</code> producing an <code>Either</code>     into the error channel of the <code>Effect</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span> <span class="o">=</span> <span class="n">error</span><span class="p">(</span><span class="s1">&#39;Whoops&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">either</span><span class="p">()</span><span class="o">.</span><span class="n">map</span><span class="p">(</span>
<span class="o">...</span>     <span class="k">lambda</span> <span class="n">either</span><span class="p">:</span> <span class="n">either</span><span class="o">.</span><span class="n">get</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">either</span><span class="p">,</span> <span class="n">Right</span><span class="p">)</span>
<span class="o">...</span>                    <span class="k">else</span> <span class="s1">&#39;Phew!&#39;</span>
<span class="o">...</span> <span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">absolve</span><span class="p">(</span><span class="n">effect</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="s1">&#39;Phew!&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>effect</code></td>
        <td><code>Effect[R, NoReturn, Either[E, A]]</code></td>
        <td><p>an <code>Effect</code> producing an <code>Either</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, A]</code></td>
      <td><p>an <code>Effect</code> failing with <code>E</code> or succeeding with <code>A</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.combine">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="o">*</span><span class="n">effects</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an effect that produces the result of calling the passed function     with the results of effects in <code>effects</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">combine</span><span class="p">(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>effects</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td><p>Effects the results of which to pass to the combiner         function</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(((*A, **B) -&gt; C) -&gt; *Effect[R, E, A] -&gt; Effect[R, E, C])</code></td>
      <td><p>function that takes a combiner function and returns an         <code>Effect</code> that applies the function to the results of <code>effects</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.combine_async">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">combine_async</span><span class="p">(</span><span class="o">*</span><span class="n">effects</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an effect that produces the result of calling the passed function     with the results of effects in <code>effects</code> evaluated asynchronously.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">combine_async</span><span class="p">(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>effects</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td><p>Effects the results of which to pass to the combiner         function</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(((*A, **B) -&gt; C) -&gt; *Effect[R, E, A] -&gt; Effect[R, E, C])</code></td>
      <td><p>function that takes a combiner function and returns an         <code>Effect</code> that applies the function to the results of <code>effects</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.combine_cpu_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">combine_cpu_bound</span><span class="p">(</span><span class="o">*</span><span class="n">effects</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an effect that produces the result of calling the passed cpu bound function     with the results of effects in <code>effects</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">combine_cpu_bound</span><span class="p">(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>effects</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td><p>Effects the results of which to pass to the combiner         function</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(((*A, **B) -&gt; C) -&gt; *args</code></td>
      <td><p>Effect[R, E, A] -&gt; Effect[R, E, C]): function that takes a combiner function and returns an         <code>Effect</code> that applies the function to the results of <code>effects</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.combine_io_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">combine_io_bound</span><span class="p">(</span><span class="o">*</span><span class="n">effects</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an effect that produces the result of calling the passed io bound function     with the results of effects in <code>effects</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">combine_io_bound</span><span class="p">(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>effects</code></td>
        <td><code>Effect[R, E, A]</code></td>
        <td><p>Effects the results of which to pass to the combiner         function</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(((*A, **B) -&gt; C) -&gt; *args</code></td>
      <td><p>Effect[R, E, A] -&gt; Effect[R, E, C]): function that takes a combiner function and returns an         <code>Effect</code> that applies the function to the results of <code>effects</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.lift">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">lift</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator that enables decorated functions to operate on <code>Effect</code>
instances. Note that the returned function does not accept keyword arguments.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lift</span><span class="p">(</span><span class="n">add</span><span class="p">)(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code> (*A, **B) -&gt; C</code></td>
        <td><p>The function to decorate</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(*Effect[R, E, A] -&gt; Effect[R, E, C])</code></td>
      <td><p>The decorated function</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.lift_async">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">lift_async</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator that enables decorated functions to operate on <code>Effect</code>
instances asynchronously. Note that the returned function does not accept keyword arguments.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lift_async</span><span class="p">(</span><span class="n">add</span><span class="p">)(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code> (*A, **B) -&gt; C</code></td>
        <td><p>The function to decorate</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(*Effect[R, E, A] -&gt; Effect[R, E, C])</code></td>
      <td><p>The decorated function</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.lift_cpu_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">lift_cpu_bound</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator that enables decorated cpu bound functions to operate on <code>Effect</code>
instances. Note that the returned function does not accept keyword arguments.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lift_cpu_bound</span><span class="p">(</span><span class="n">add</span><span class="p">)(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code> (*A, **B) -&gt; C</code></td>
        <td><p>The function to decorate</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(*Effect[R, E, A] -&gt; Effect[R, E, C])</code></td>
      <td><p>The decorated function</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.lift_io_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">lift_io_bound</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator that enables decorated io bound functions to operate on <code>Effect</code>
instances. Note that the returned function does not accept keyword arguments.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lift_io_bound</span><span class="p">(</span><span class="n">add</span><span class="p">)(</span><span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">success</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mi">4</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code> (*A, **B) -&gt; C</code></td>
        <td><p>The function to decorate</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(*Effect[R, E, A] -&gt; Effect[R, E, C])</code></td>
      <td><p>The decorated function</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.catch">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">catch</span><span class="p">(</span><span class="n">exception</span><span class="p">,</span> <span class="o">*</span><span class="n">exceptions</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator that catches errors as an <code>Effect</code>. If the decorated
function performs additional side-effects, they are not carried out
until the effect is run.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">catch</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">)(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">v</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mf">1.0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="ne">ZeroDivisionError</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>exception</code></td>
        <td><code>Exception</code></td>
        <td><p>The first exception to catch</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exceptions</code></td>
        <td><code>Exception</code></td>
        <td><p>Remaining exceptions to catch</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>((*args, **kwargs) -&gt; A) -&gt; Effect[object, Exception, A]</code></td>
      <td><p>Decorator of functions             that handle expection arguments as an <code>Effect</code>.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.catch_cpu_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">catch_cpu_bound</span><span class="p">(</span><span class="n">exception</span><span class="p">,</span> <span class="o">*</span><span class="n">exceptions</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator that catches errors from a cpu bound function as an <code>Effect</code>. If the decorated
function performs additional side-effects, they are not carried out
until the effect is run.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">catch_cpu_bound</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">)(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">v</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mf">1.0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="ne">ZeroDivisionError</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>exception</code></td>
        <td><code>Exception</code></td>
        <td><p>The first exception to catch</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exceptions</code></td>
        <td><code>Exception</code></td>
        <td><p>Remaining exceptions to catch</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>((*args, **kwargs) -&gt; A) -&gt; Effect[object, Exception, A]</code></td>
      <td><p>Decorator of functions             that handle expection arguments as an <code>Effect</code>.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.catch_io_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">catch_io_bound</span><span class="p">(</span><span class="n">exception</span><span class="p">,</span> <span class="o">*</span><span class="n">exceptions</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator that catches errors from an io bound function as an <code>Effect</code>. If the decorated
function performs additional side-effects, they are not carried out
until the effect is run.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">catch_io_bound</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">)(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">v</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="mf">1.0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="ne">ZeroDivisionError</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>exception</code></td>
        <td><code>Exception</code></td>
        <td><p>The first exception to catch</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exceptions</code></td>
        <td><code>Exception</code></td>
        <td><p>Remaining exceptions to catch</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>((*args, **kwargs) -&gt; A) -&gt; Effect[object, Exception, A]</code></td>
      <td><p>Decorator of functions             that handle expection arguments as an <code>Effect</code>.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.purify">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">purify</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator to wrap side-effects of <code>f</code>.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">purify</span><span class="p">(</span><span class="nb">print</span><span class="p">)(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code> (*A, **B) -&gt; C</code></td>
        <td><p>Function to wrap side-effects of</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(*A, **B) -&gt; Success[C]</code></td>
      <td><p><code>f</code> decorated to wrap side-effects</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.purify_cpu_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">purify_cpu_bound</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator to wrap side-effects of <code>f</code>.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">purify_cpu_bound</span><span class="p">(</span><span class="nb">print</span><span class="p">)(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code> (*A, **B) -&gt; C</code></td>
        <td><p>Function to wrap side-effects of</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(*A, **B) -&gt; Success[C]</code></td>
      <td><p><code>f</code> decorated to wrap side-effects</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.purify_io_bound">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">purify_io_bound</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Decorator to wrap side-effects of <code>f</code>.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">purify_io_bound</span><span class="p">(</span><span class="nb">print</span><span class="p">)(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code> (*A, **B) -&gt; C</code></td>
        <td><p>Function to wrap side-effects of</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>(*A, **B) -&gt; Success[C]</code></td>
      <td><p><code>f</code> decorated to wrap side-effects</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.from_awaitable">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">from_awaitable</span><span class="p">(</span><span class="n">awaitable</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an <code>Effect</code> that produces the result of awaiting <code>awaitable</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">async</span> <span class="k">def</span> <span class="nf">f</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">return</span> <span class="s1">&#39;Yay!&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">from_awaitable</span><span class="p">(</span><span class="n">f</span><span class="p">())</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="s1">&#39;Yay&#39;</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>awaitable</code></td>
        <td><code>Awaitable[A]</code></td>
        <td><p>Awaitable to await in the resulting <code>Effect</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Success[A]</code></td>
      <td><p><code>Effect</code> that produces the result of awaiting <code>awaitable</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.from_callable">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">from_callable</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an <code>Effect</code> from a function that takes a dependency and returns     an <code>Either</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun.either</span> <span class="kn">import</span> <span class="n">Either</span><span class="p">,</span> <span class="n">Left</span><span class="p">,</span> <span class="n">Right</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Either</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">return</span> <span class="n">Left</span><span class="p">(</span><span class="s1">&#39;Empty string&#39;</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">Right</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span> <span class="o">=</span> <span class="n">from_callable</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">Empty</span> <span class="n">string</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">)</span>
<span class="n">Hello</span><span class="err">!</span><span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code>R -&gt; Either[E, A]</code></td>
        <td><p>the function to turn into an <code>Effect</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, A]</code></td>
      <td><p><code>f</code> as an <code>Effect</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.from_cpu_bound_callable">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">from_cpu_bound_callable</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an <code>Effect</code> from a cpu bound function that takes a dependency and returns     an <code>Either</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun.either</span> <span class="kn">import</span> <span class="n">Either</span><span class="p">,</span> <span class="n">Left</span><span class="p">,</span> <span class="n">Right</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Either</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">return</span> <span class="n">Left</span><span class="p">(</span><span class="s1">&#39;Empty string&#39;</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">Right</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span> <span class="o">=</span> <span class="n">from_cpu_bound_callable</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">Empty</span> <span class="n">string</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">)</span>
<span class="n">Hello</span><span class="err">!</span><span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code>R -&gt; Either[E, A]</code></td>
        <td><p>the function to turn into an <code>Effect</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, A]</code></td>
      <td><p><code>f</code> as an <code>Effect</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h1 class="doc doc-heading" id="pfun.effect.from_io_bound_callable">
<code class="codehilite language-python"><span class="n">pfun</span><span class="o">.</span><span class="n">effect</span><span class="o">.</span><span class="n">from_io_bound_callable</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>


</h1>

    <div class="doc doc-contents first">

      <p>Create an <code>Effect</code> from an io bound function that takes a dependency and returns     an <code>Either</code></p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pfun.either</span> <span class="kn">import</span> <span class="n">Either</span><span class="p">,</span> <span class="n">Left</span><span class="p">,</span> <span class="n">Right</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Either</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">return</span> <span class="n">Left</span><span class="p">(</span><span class="s1">&#39;Empty string&#39;</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">Right</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span> <span class="o">=</span> <span class="n">from_io_bound_callable</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">Empty</span> <span class="n">string</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">effect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">)</span>
<span class="n">Hello</span><span class="err">!</span><span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>f</code></td>
        <td><code>R -&gt; Either[E, A]</code></td>
        <td><p>the function to turn into an <code>Effect</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Effect[R, E, A]</code></td>
      <td><p><code>f</code> as an <code>Effect</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
      
    </div>
    
      <script src="../assets/javascripts/vendor.2d1db4bd.min.js"></script>
      <script src="../assets/javascripts/bundle.6627ddf3.min.js"></script><script id="__lang" type="application/json">{"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>